(this.webpackJsonpd2d=this.webpackJsonpd2d||[]).push([[0],{310:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return javascriptTransform}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(311),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),ramda__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(314),javascriptTransform={transform:function transform(inputs,_transform){var data=inputs[0],data1=inputs[0],data2=inputs[1];if(_transform.trim().length){var _=lodash__WEBPACK_IMPORTED_MODULE_0___default.a,R=ramda__WEBPACK_IMPORTED_MODULE_1__;eval(_transform)}return data}}},334:function(e,t,r){},536:function(e,t,r){"use strict";r.r(t);var n,a,c=r(0),o=r.n(c),s=r(82),i=r.n(s),l=(r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(28)),u=r(117);!function(e){e.ThreeColumns="threeColumns",e.BottomCode="bottomCode",e.NoCode="noCode"}(a||(a={}));var d=(n={},Object(u.a)(n,a.ThreeColumns,"Three Columns"),Object(u.a)(n,a.BottomCode,"Code on Bottom"),Object(u.a)(n,a.NoCode,"No Code"),n),j=r(305),h=r(587),p=r(583),b=r(297),m=r.n(b),f=r(298),O=r(233),v=r(299),x=r(300),y=r(316),g=r(315),_=r(7),C=function(e,t,r){return Object(_.jsxs)("div",{children:["Oops! An error occurred: $",e.toString(),Object(_.jsx)("br",{}),Object(_.jsx)("a",{href:"#",onClick:r,children:"Try again"})]})},S=function(e){Object(y.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e.resetError=function(){e.setState({error:void 0,errorInfo:void 0})},e}return Object(x.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.error?(this.props.renderError||C)(this.state.error,this.state.errorInfo,this.resetError):this.props.render()}}]),r}(o.a.Component),T=function(e){var t=e.result,r=t.error,n=t.phase;return Object(_.jsxs)("div",{className:"error-result",children:[Object(_.jsxs)("h2",{children:[r.name||"Error"," in ",n]}),r.stack?Object(_.jsx)("div",{className:"error-stack",children:r.stack}):Object(_.jsx)("b",{children:r.toString()})]})},w=r(301),k=r.n(w)()({loader:function(){return r.e(5).then(r.bind(null,602))},loading:function(){return Object(_.jsx)("div",{children:"Loading table"})}}),E=function(e){var t=e.value;if("object"===typeof t)try{t=JSON.stringify(t)}catch(r){t="<unrenderable>"}return Object(_.jsx)(_.Fragment,{children:t})};var N=o.a.memo((function(e){var t=e.data;try{var r=Array.from(t),n=function(e){var t=[],r=new Set;return e.forEach((function(e){return e&&Object.keys(e).forEach((function(e){r.has(e)||(t.push(e),r.add(e))}))})),t}(r);return n.length?Object(_.jsx)(k,{data:r,columns:n.map((function(e){return{accessor:e,Header:e,Cell:E}}))}):Object(_.jsx)(T,{result:{phase:"output",error:new Error("Unable to figure out columns"),type:"error"}})}catch(a){return Object(_.jsx)(T,{result:{phase:"output",error:a,type:"error"}})}})),M=r(181),L=r.n(M),A=r(302),B=r(131);function D(){return(D=Object(A.a)(L.a.mark((function e(t,n){var a,c,o,s,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Promise.all([r.e(3),r.e(4)]).then(r.t.bind(null,601,7)),c=Array.from(t),e.next=4,a;case 4:o=e.sent,s=o.utils.json_to_sheet(c),i=o.utils.book_new(),o.utils.book_append_sheet(i,s,"d2d"),o.writeFile(i,"d2d-".concat((new Date).toISOString(),".").concat(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(e){var t=e.label,r=e.format,n=e.data;return Object(_.jsx)(B.a,{onClick:function(e){try{!function(e,t){D.apply(this,arguments)}(n,r)}catch(t){alert(t)}},children:t})},I=function(e){var t=e.data;return Object(_.jsxs)("div",{style:{textAlign:"center"},children:[Object(_.jsx)(F,{label:"Download XLSX",format:"xlsx",data:t}),Object(_.jsx)(F,{label:"Download XLS",format:"xls",data:t}),Object(_.jsx)(F,{label:"Download ODS",format:"ods",data:t})]})},J=r(236),P=r(304);function R(e){return Array.isArray(e)}var W=Object(p.a)(","),z=Object(p.a)(";"),U=Object(p.a)("\t");function K(e){return e.split("\n").filter((function(e){return(e=e.trimStart())&&!e.startsWith("#")}))}var X={csv:W.parse,json:JSON.parse,jsonl:function(e){return K(e).map((function(e){return JSON.parse(e)}))},scsv:z.parse,text:function(e){return e},lines:K,toml:m.a.parse,tsv:U.parse,yaml:O.a.load},q=function(e){return function(t){return{value:e(t),type:"string"}}},H={"json-compact":q(JSON.stringify),csv:q(W.format),scsv:q(z.format),json:q((function(e){return JSON.stringify(e,null,2)})),text:q((function(e){return""+e})),toml:q(f.stringify),tsv:q(U.format),yaml:q(O.a.dump),markdownTable:q((function(e){var t=function(e){if(!R(e)||0===e.length)return{data:[]};if(R(e[0]))return{data:e};var t,r=[],n=new Set,a=new Set,c=new Set,o=Object(J.a)(e);try{for(o.s();!(t=o.n()).done;)for(var s=t.value,i=0,l=Object.keys(s);i<l.length;i++){var u=l[i];n.has(u)||(n.add(u),r.push(u),"number"===typeof s[u]?a.add(u):c.add(u))}}catch(b){o.e(b)}finally{o.f()}var d,j=[[].concat(r)],h=Object(J.a)(e);try{var p=function(){var e=d.value;j.push(r.map((function(t){var r;return null!==(r=e[t])&&void 0!==r?r:""})))};for(h.s();!(d=h.n()).done;)p()}catch(b){h.e(b)}finally{h.f()}return{data:j,align:r.map((function(e){return a.has(e)&&!c.has(e)?"r":""}))}}(e),r=t.data,n=t.align;return Object(P.a)(r,{align:n})})),table:function(e){return{error:null,type:"element",element:Object(_.jsx)(S,{render:function(){return Object(_.jsx)(N,{data:e})}})}},xlsx:function(e){return{error:null,type:"element",element:Object(_.jsx)(I,{data:e})}}},V={"json-compact":"JSON (compact)",csv:"CSV",json:"JSON",jsonl:"JSON Lines",lines:"Text lines",markdownTable:"Markdown (GFM) table",scsv:"SCSV",table:"Table",text:"Text",toml:"TOML",tsv:"TSV",xlsx:"XLS/XLSX",yaml:"YAML"},Y={csv:"Comma-separated values",scsv:"Semicolon-separated values",tsv:"Tab-separated values",lines:"Sans #comments and blanks"},G=function(e){var t=e.label,r=e.value,n=e.options,a=e.onChange,c=(e.style,e.nameMap),o=e.descriptionMap,s=function(e,t){a(t.name),e.preventDefault()};return Object(_.jsx)(h.a,{item:!0,text:"".concat(t,": ").concat(c[r]||r),closeOnChange:!1,children:Object(_.jsx)(h.a.Menu,{style:{minWidth:"25em"},children:n.map((function(e){return Object(_.jsx)(h.a.Item,{name:e,active:r===e,onClick:s,text:c[e]||e,description:o?o[e]:void 0},e)}))})})},$=[1,2,3],Q=function(e){var t=e.destType,r=e.layout,n=e.setDestType,a=e.setLayout,c=e.nSources,o=e.setNSources;return Object(_.jsxs)(j.a,{fluid:!0,children:[Object(_.jsx)(h.a,{item:!0,text:"Layout: ".concat(d[r])||!1,children:Object(_.jsx)(h.a.Menu,{children:Object.entries(d).map((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(_.jsx)(h.a.Item,{name:n,active:r===n,text:c,onClick:function(e,t){var r=t.name;return a(r)}},n)}))})}),Object(_.jsx)(h.a,{item:!0,text:"Sources: ".concat(c),children:Object(_.jsx)(h.a.Menu,{children:$.map((function(e){return Object(_.jsx)(h.a.Item,{name:e,active:c===e,text:e,onClick:function(){return o(e)}},e)}))})}),Object(_.jsx)(G,{label:"Output Format",value:t,options:Object.keys(H),onChange:n,descriptionMap:Y,nameMap:V})]})},Z=r(208),ee=r(145),te=(r(374),r(121)),re="\n- A: One\n  B: Two\n  C: Three\n- A: Two\n  B: Four\n  C: Five\n- A: Three\n  B: Six\n  C: Seven\n".trim(),ne={"json-compact":"json-compact",csv:"A,B,C\nOne,Two,Three\nTwo,Four,Five\nThree,Six,Seven",scsv:'"A","B","C"\n"One","Two","Three"\n"Two","Four","Five"\n"Three","Six","Seven"',json:JSON.stringify([{A:"One",B:"Two",C:"Three"},{A:"Two",B:"Four",C:"Five"},{A:"Three",B:"Six",C:"Seven"}],null,2),text:"Some arbitrary text",lines:"Hello\nWorld\n# Octothorpe comments are ignored, as are blank lines:\n\n\n\nHernekeitto",tsv:"A\tB\tC\nOne\tTwo\tThree\nTwo\tFour\tFive\nThree\tSix\tSeven",yaml:re,toml:'# This is a TOML document.\ntitle = "TOML Example"\n[owner]\nname = "Tom Preston-Werner"\ndob = 1979-05-27T07:32:00-08:00 # First class dates'},ae=r(309),ce=r(40),oe=r(586),se=r(589),ie="solarized light",le=5e5,ue=function(e){var t=e.value,r=e.options,n=e.onChange,a=o.a.useState(!1),c=Object(l.a)(a,2),s=c[0],i=c[1],u=o.a.useState(!!(t&&t.length>le)),d=Object(l.a)(u,2),j=d[0],h=d[1],p="string"===typeof r.placeholder?r.placeholder:void 0;return Object(_.jsxs)(_.Fragment,{children:[j?Object(_.jsx)("textarea",{value:t,onChange:function(e){return n(e.target.value)},placeholder:p}):Object(_.jsx)(ae.Controlled,{className:"code-editor",value:t,options:Object(te.a)(Object(te.a)({},r),{},{lineWrapping:s}),onBeforeChange:function(e,t,r){return n(r)}}),Object(_.jsx)(ce.a,{circular:!0,name:"copy",style:{position:"absolute",right:"35px",bottom:"5px"},link:!0,title:"Copy content",onClick:function(){return navigator.clipboard.writeText(t).then((function(){return Object(ee.toast)({type:"success",title:"Copied ".concat(t.length," characters.")})}),(function(){return Object(ee.toast)({type:"warning",title:"Copy failed."})}))}}),Object(_.jsxs)(oe.a,{trigger:Object(_.jsx)(ce.a,{circular:!0,name:"setting",style:{position:"absolute",right:"5px",bottom:"5px"}}),hoverable:!0,plain:!0,basic:!0,children:[Object(_.jsx)(se.a,{label:"Wrap Lines",checked:s,onChange:function(e,t){return i(!!t.checked)}}),Object(_.jsx)("br",{}),Object(_.jsx)(se.a,{label:"Plain Editor",checked:j,onChange:function(e,t){return h(!!t.checked)}})]})]})},de=r(585),je=function(e){var t=e.sourceType,r=e.source,n=e.onChangeSource,a=e.onChangeSourceType,c=e.onLoadSample,s=e.style,i=e.label,u=o.a.useState(!1),d=Object(l.a)(u,2),h=d[0],p=d[1],b=o.a.useCallback((function(){p(!1),n("")}),[p,n]),m=r.length>le&&!h?Object(_.jsx)("div",{children:Object(_.jsxs)(de.a,{children:[Object(_.jsx)(de.a.Header,{children:"Large Content"}),Object(_.jsxs)("p",{children:["The length of this data is ",r.length.toLocaleString()," characters.",Object(_.jsx)("br",{}),"Showing it may cause performance problems.",Object(_.jsx)("br",{})]}),Object(_.jsxs)("p",{children:[Object(_.jsx)(B.a,{primary:!0,onClick:function(){return p(!0)},children:"Show it anyway"}),Object(_.jsx)(B.a,{negative:!0,basic:!0,onClick:b,children:"Clear the data"})]})]})}):Object(_.jsx)(ue,{value:r,options:{mode:t,theme:ie,lineNumbers:!0,placeholder:"Paste, drop or type in ".concat(V[t]||t," data here.")},onChange:n});return Object(_.jsxs)("div",{className:"codebox-wrapper",style:s,children:[Object(_.jsxs)(j.a,{secondary:!0,size:"small",style:{margin:0},children:[i?Object(_.jsx)(j.a.Item,{style:{fontWeight:"bold"},children:i}):null,Object(_.jsx)(G,{label:"Source Format",value:t,options:Object.keys(X),onChange:a,nameMap:V,descriptionMap:Y}),Object(_.jsxs)(j.a.Item,{name:"loadSample",onClick:c,children:["Load ",V[t]||t," Sample"]})]}),m]})},he=r(310),pe=r(584),be=r(312),me=r.n(be),fe=function(e){var t=e.transform,r=e.onChangeTransform,n={rules:[]};if(t.trim())try{n=JSON.parse(t)}catch(o){throw new Error("Invalid Tem state: ".concat(o))}var a=function(){return r(JSON.stringify(n))},c=function(e){var t=e.target.name.split("_"),r=Object(l.a)(t,2),c=r[0],o=r[1],s=parseInt(o,10);if(!Number.isNaN(s))switch(c){case"match":case"replace":!function(e,t,r){var c=n.rules[e];c&&(c[t]=r),a()}(s,c,e.target.value)}};return Object(_.jsxs)("table",{children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Match"}),Object(_.jsx)("th",{children:"Replacement"}),Object(_.jsx)("th",{style:{width:"1px"}})]})}),Object(_.jsx)("tfoot",{children:Object(_.jsx)("tr",{children:Object(_.jsx)("th",{colSpan:3,children:Object(_.jsx)(B.a,{onClick:function(){n.rules.push({match:"",replace:""}),a()},children:"Add Rule"})})})}),Object(_.jsx)("tbody",{children:n.rules.map((function(e,t){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:Object(_.jsx)(pe.a,{fluid:!0,placeholder:"Match regexp",name:"match_".concat(t),value:e.match,onChange:c})}),Object(_.jsx)("td",{children:Object(_.jsx)(pe.a,{fluid:!0,placeholder:"Replacement",name:"replace_".concat(t),value:e.replace,onChange:c})}),Object(_.jsx)("td",{children:Object(_.jsx)(B.a,{icon:!0,negative:!0,onClick:function(){return e=t,void(Number.isNaN(e)||(n.rules.splice(e,1),a()));var e},children:Object(_.jsx)(me.a,{name:"trash"})})})]},t)}))})]})},Oe={transform:function(e,t){var r=JSON.parse(t).rules,n=Array.isArray(e[0])?e.map((function(e){return"".concat(e)})).join("\n"):"".concat(e[0]);return r.forEach((function(e){if(e.match){var t=new RegExp(e.match,"gm");n=n.replace(t,e.replace)}})),n},getEditor:function(e,t){return Object(_.jsx)(fe,{transform:e,onChangeTransform:t})}},ve={javascript:he.a,tem:Oe},xe={javascript:"JavaScript",tem:"Tem String Replace"};function ye(){var e=o.a.useState("yaml"),t=Object(l.a)(e,2),r=t[0],n=t[1],a=o.a.useState(""),c=Object(l.a)(a,2),s=c[0],i=c[1],u=o.a.useCallback((function(){i(ne[r])}),[r,i]);return{type:r,setType:n,source:s,setSource:i,loadSample:u}}function ge(e,t,r,n){for(var a=e.length,c=[a,t,r,n],s=[],i=0;i<a;i++){var l=e[i],u=l.source,d=l.type;c.push(u),c.push(d),s.push({source:u,type:d})}return o.a.useMemo((function(){return function(e,t,r,n){for(var a,c=[],o=0;o<e.length;o++){var s=e[o];try{c.push(X[s.type](s.source))}catch(i){return{error:i,type:"error",phase:"input",index:o}}}try{a=ve[r].transform(c,t)}catch(i){return{error:i,type:"error",phase:"transform"}}try{return H[n](a)}catch(i){return{error:i,type:"error",phase:"output"}}}(s,t,r,n)}),c)}var _e=r(313),Ce="\n// * Lodash is available as `_`\n// ** e.g. `_.reverse(data)`\n// * Ramda is available as `R`\n// ** e.g. `data = R.reverse(data)`\n".trim(),Se="\n// Feel free to modify `data` using JavaScript here.\n".concat(Ce,"\n").trim(),Te="\n// Feel free to modify `data` using JavaScript here.\n// Multiple sources are available:\n// * as the `inputs` array\n// * as `data1`, `data2`, ...\n//\n".concat(Ce,"\n").trim(),we=function(e){var t=e.transform,r=e.transformType,n=e.onChangeTransform,a=e.onChangeTransformType,c=e.nSources,s=e.style,i=ve[r],l=i.getEditor?i.getEditor(t,n,c):Object(_.jsx)(ue,{value:t,options:{mode:"javascript",theme:"solarized dark",lineNumbers:!0,placeholder:c>1?Te:Se},onChange:n}),u=o.a.useCallback((function(e){var t=e.error,r=(e.componentStack,e.resetErrorBoundary);return Object(_.jsxs)(de.a,{negative:!0,children:[Object(_.jsxs)("p",{children:['The editor failed to render. The error message we got was "',Object(_.jsx)("b",{children:t.message}),'".']}),Object(_.jsx)("p",{children:"You can either change the transform type to something that's compatible with your data, or click below to reset your transform code."}),Object(_.jsx)(B.a,{onClick:function(){n(""),r()},children:"Reset transform"})]})}),[n]);return Object(_.jsxs)("div",{className:"codebox-wrapper",style:s,children:[Object(_.jsx)(j.a,{secondary:!0,size:"small",style:{margin:0},children:Object(_.jsx)(G,{label:"Language",value:r,options:Object.keys(ve),onChange:a,nameMap:xe})}),Object(_.jsx)(_e.ErrorBoundary,{FallbackComponent:u,children:l})]})},ke=function(e){var t=e.destType,r=e.result,n=e.style,a=null;switch(r.type){case"element":a=r.element;break;case"string":a=Object(_.jsx)(ue,{value:r.value,options:{mode:t,theme:ie,lineNumbers:!0,readOnly:!0,placeholder:"Output will appear here in ".concat(V[t]||t,".")},onChange:function(){}});break;case"error":a=Object(_.jsx)(T,{result:r})}return Object(_.jsx)("div",{className:"codebox-wrapper",style:n,children:a})},Ee=r(124),Ne=function(e){var t=e.sources,r=e.transform,n=e.onChangeTransform,o=e.onChangeTransformType,s=e.transformType,i=e.destType,l=e.result,u=e.layout,d=t.length,j=Object(_.jsx)("div",{style:{display:"flex",flex:1,flexDirection:"column"},children:t.map((function(e,t){return function(e,t,r){var n={source:e.source,sourceType:e.type,onChangeSource:e.setSource,onChangeSourceType:e.setType,onLoadSample:e.loadSample,label:t};return Object(c.createElement)(je,Object(te.a)(Object(te.a)({},n),{},{key:r}))}(e,d>1?"Input ".concat(t+1):void 0,"input-".concat(t))}))}),h=Object(_.jsx)(we,{transform:r,transformType:s,onChangeTransform:n,onChangeTransformType:o,nSources:d}),p=Object(_.jsx)(ke,{destType:i,result:l});switch(u){case a.ThreeColumns:default:return Object(_.jsxs)(Ee.a,{split:"vertical",defaultSize:"35%",pane1Style:{overflow:"hidden"},children:[j,Object(_.jsxs)(Ee.a,{split:"vertical",defaultSize:"40%",children:[h,p]})]});case a.BottomCode:return Object(_.jsxs)(Ee.a,{split:"horizontal",defaultSize:"80%",children:[Object(_.jsxs)(Ee.a,{split:"vertical",defaultSize:"50%",children:[j,p]}),h]});case a.NoCode:return Object(_.jsxs)(Ee.a,{split:"vertical",defaultSize:"50%",pane1Style:{overflow:"hidden"},children:[j,p]})}},Me=Object(Z.a)("d2d-layout"),Le=Object(Z.a)("d2d-transform"),Ae=Object(Z.a)("d2d-transform-type"),Be=function(){var e=o.a.useState(1),t=Object(l.a)(e,2),r=t[0],n=t[1],c=o.a.useState("json"),s=Object(l.a)(c,2),i=s[0],u=s[1],d=Le(""),j=Object(l.a)(d,2),h=j[0],p=j[1],b=Ae("javascript"),m=Object(l.a)(b,2),f=m[0],O=m[1],v=Me(a.ThreeColumns),x=Object(l.a)(v,2),y=x[0],g=x[1],C=[ye(),ye(),ye()].slice(0,r),S=ge(C,h,f,i);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{id:"settings",children:Object(_.jsx)(Q,{nSources:r,setNSources:n,destType:i,setDestType:u,layout:y,setLayout:g})}),Object(_.jsx)("div",{id:"main-panes",children:Object(_.jsx)(Ne,{sources:C,transform:h,transformType:f,onChangeTransform:p,onChangeTransformType:O,destType:i,result:S,layout:y})}),Object(_.jsx)(ee.SemanticToastContainer,{position:"top-right"})]})};i.a.render(Object(_.jsx)(Be,{}),document.getElementById("root"))}},[[536,1,2]]]);